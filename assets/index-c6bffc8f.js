(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))h(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function h(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();function w(a,s){if(a[0]===s[0]&&a[1]===s[1])return[a];const c=[[-2,-1],[-1,-2],[1,-2],[2,-1],[2,1],[1,2],[-1,2],[-2,1]],h=[[a]],n=new Set([a.toString()]);for(;h.length>0;){const o=h.shift(),l=o[o.length-1];if(l[0]===s[0]&&l[1]===s[1])return o;for(const p of c){const u=[l[0]+p[0],l[1]+p[1]];if(u[0]>=0&&u[0]<=7&&u[1]>=0&&u[1]<=7&&!n.has(u.toString())){const f=[...o,u];h.push(f),n.add(u.toString())}}}return null}w([4,7],[7,7]);const L="/assets/WhitePawn-a1c2fe46.svg",k="/assets/BlackPawn-3ae42283.svg",y="/assets/WhiteKnight-097d6771.svg",b="/assets/BlackKnight-8fcab879.svg";const I=()=>{let a,s=[],c=document.getElementById("status");const h=()=>{const d=document.getElementById("chessboard");for(let i=0;i<8;i++)for(let e=0;e<8;e++){const t=document.createElement("div");t.classList.add("square"),t.id=`${i},${e}`,(i+e)%2===0?t.classList.add("white"):t.classList.add("black"),d.appendChild(t)}document.getElementById("knight-btn").disabled=!0,document.getElementById("hunt-btn").disabled=!0,document.getElementById("pawn-btn").addEventListener("click",()=>{n(),c.innerHTML="Click anywhere to add a pawn.",document.getElementById("pawn-btn").disabled=!0}),document.getElementById("clear-btn").addEventListener("click",l),document.getElementById("knight-btn").addEventListener("click",()=>{o(),c.innerHTML="Click on a square to add a knight."}),document.getElementById("hunt-btn").addEventListener("click",()=>{c.innerHTML="Time for the hunt!",f()}),c.innerHTML="Click the 'Pawn' button to add a pawn."},n=()=>{document.getElementById("chessboard").addEventListener("click",function(i){const e=i.target;if(!e.querySelector(".pawn")&&!p()&&e.tagName!=="IMG"){const t=document.createElement("div");t.classList.add("pawn"),e.appendChild(t),e.classList.contains("white")?t.innerHTML=`<img src="${L}">`:t.innerHTML=`<img src="${k}">`,s.push(e.id),document.getElementById("knight-btn").disabled=!1,document.getElementById("pawn-btn").disabled=!0,c.innerText=`Click on the pawn to remove it, if you want to.
If not, click the 'Knight' button to add a knight.`,t.addEventListener("click",function(){t.parentNode.removeChild(t),c.innerHTML="Click anywhere to add a pawn.",s.forEach((r,g)=>{r===e.id&&s.splice(g,1)}),s.length===0&&(document.getElementById("knight-btn").disabled=!0)})}})},o=()=>{u(),document.getElementById("chessboard").addEventListener("click",function(i){const e=i.target;if(!e.querySelector(".pawn")&&!e.querySelector(".knight")&&e.tagName!=="IMG"&&p()){const t=document.createElement("div");t.classList.add("knight"),e.appendChild(t),e.classList.contains("white")?t.innerHTML=`<img src="${y}">`:t.innerHTML=`<img src="${b}">`,a=e.id,document.getElementById("knight-btn").disabled=!0,document.getElementById("hunt-btn").disabled=!1,c.innerText=`Click on the knight to remove it, if you want to.
If not, click the 'Hunt' button to start the hunt.`,t.addEventListener("click",function(){t.parentNode.removeChild(t),a=null,c.innerHTML="Click on any square to add a knight.",document.getElementById("knight-btn").disabled=!1,document.getElementById("hunt-btn").disabled=!0})}})},l=()=>{document.getElementById("chessboard").innerHTML="",u(),h(),s=[],a=null,document.getElementById("pawn-btn").disabled=!1,document.getElementById("path").style.display="none"},p=()=>document.querySelectorAll(".pawn").length>0,u=()=>{const d=document.getElementById("chessboard"),i=d.querySelectorAll(".square"),e=document.createElement("div");e.id="chessboard",i.forEach(t=>{const r=t.cloneNode(!0);e.appendChild(r)}),d.parentNode.replaceChild(e,d)},f=()=>{document.getElementById("hunt-btn").disabled=!0,s.forEach(d=>{let i=[],e=a.split(","),t=d.split(",");e=e.map(r=>parseInt(r)),t=t.map(r=>parseInt(r)),e[0]!==t[0]&&e[1]!==t[1]&&(i=w(e,t)),i&&(document.getElementById("path").innerHTML="Path: ",E(i),a=d,document.getElementById("path").style.display="flex")})},E=d=>{let e=0;function t(){const r=d[e],g=document.querySelector(".knight");g.parentNode;const m=document.getElementById(`${r[0].toString()},${r[1].toString()}`);document.getElementById("path").innerText+=`
[${r[0]}, ${r[1]}]`,m.classList.add("highlighted"),m.querySelector(".pawn")&&(m.classList.add("captured"),m.querySelector(".pawn").parentNode.removeChild(m.querySelector(".pawn")),c.innerText="We captured a pawn!"),m.classList.contains("white")?g.innerHTML=`<img src="${y}">`:g.innerHTML=`<img src="${b}">`,m.appendChild(g),e++,e<d.length&&setTimeout(t,1e3)}t()};h()};I();
