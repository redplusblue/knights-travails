(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))m(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&m(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function m(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function E(c,r){if(c[0]===r[0]&&c[1]===r[1])return[c];const s=[[-2,-1],[-1,-2],[1,-2],[2,-1],[2,1],[1,2],[-1,2],[-2,1]],m=[[c]],n=new Set([c.toString()]);for(;m.length>0;){const o=m.shift(),l=o[o.length-1];if(l[0]===r[0]&&l[1]===r[1])return o;for(const p of s){const u=[l[0]+p[0],l[1]+p[1]];if(u[0]>=0&&u[0]<=7&&u[1]>=0&&u[1]<=7&&!n.has(u.toString())){const f=[...o,u];m.push(f),n.add(u.toString())}}}return null}const L=""+new URL("WhitePawn-a1c2fe46.svg",import.meta.url).href,k=""+new URL("BlackPawn-3ae42283.svg",import.meta.url).href,y=""+new URL("WhiteKnight-097d6771.svg",import.meta.url).href,b=""+new URL("BlackKnight-8fcab879.svg",import.meta.url).href;const I=()=>{let c,r=[],s=document.getElementById("status");const m=()=>{const d=document.getElementById("chessboard");for(let i=0;i<8;i++)for(let e=0;e<8;e++){const t=document.createElement("div");t.classList.add("square"),t.id=`${7-i},${e}`,(i+e)%2===0?t.classList.add("white"):t.classList.add("black"),d.appendChild(t)}document.getElementById("knight-btn").disabled=!0,document.getElementById("hunt-btn").disabled=!0,document.getElementById("pawn-btn").addEventListener("click",()=>{n(),s.innerHTML="Click anywhere to add a pawn.",document.getElementById("pawn-btn").disabled=!0}),document.getElementById("clear-btn").addEventListener("click",l),document.getElementById("knight-btn").addEventListener("click",()=>{o(),s.innerHTML="Click on a square to add a knight."}),document.getElementById("hunt-btn").addEventListener("click",()=>{s.innerHTML="Time for the hunt!",f()}),s.innerHTML="Click the 'Pawn' button to add a pawn."},n=()=>{document.getElementById("chessboard").addEventListener("click",function(i){const e=i.target;if(!e.querySelector(".pawn")&&!p()&&e.tagName!=="IMG"){const t=document.createElement("div");t.classList.add("pawn"),e.appendChild(t),e.classList.contains("white")?t.innerHTML=`<img src="${L}">`:t.innerHTML=`<img src="${k}">`,r.push(e.id),document.getElementById("knight-btn").disabled=!1,document.getElementById("pawn-btn").disabled=!0,s.innerText=`Click on the pawn to remove it, if you want to.
If not, click the 'Knight' button to add a knight.`,t.addEventListener("click",function(){t.parentNode.removeChild(t),s.innerHTML="Click anywhere to add a pawn.",r.forEach((a,g)=>{a===e.id&&r.splice(g,1)}),r.length===0&&(document.getElementById("knight-btn").disabled=!0)})}})},o=()=>{u(),document.getElementById("chessboard").addEventListener("click",function(i){const e=i.target;if(!e.querySelector(".pawn")&&!e.querySelector(".knight")&&e.tagName!=="IMG"&&p()){const t=document.createElement("div");t.classList.add("knight"),e.appendChild(t),e.classList.contains("white")?t.innerHTML=`<img src="${y}">`:t.innerHTML=`<img src="${b}">`,c=e.id,document.getElementById("knight-btn").disabled=!0,document.getElementById("hunt-btn").disabled=!1,s.innerText=`Click on the knight to remove it, if you want to.
If not, click the 'Hunt' button to start the hunt.`,t.addEventListener("click",function(){t.parentNode.removeChild(t),c=null,s.innerHTML="Click on any square to add a knight.",document.getElementById("knight-btn").disabled=!1,document.getElementById("hunt-btn").disabled=!0})}})},l=()=>{document.getElementById("chessboard").innerHTML="",u(),m(),r=[],c=null,document.getElementById("pawn-btn").disabled=!1,document.getElementById("path").style.display="none"},p=()=>document.querySelectorAll(".pawn").length>0,u=()=>{const d=document.getElementById("chessboard"),i=d.querySelectorAll(".square"),e=document.createElement("div");e.id="chessboard",i.forEach(t=>{const a=t.cloneNode(!0);e.appendChild(a)}),d.parentNode.replaceChild(e,d)},f=()=>{document.getElementById("hunt-btn").disabled=!0,r.forEach(d=>{let i=[],e=c.split(","),t=d.split(",");e=e.map(a=>parseInt(a)),t=t.map(a=>parseInt(a)),console.log(e,t),e[0]!==t[0]&&e[1]!==t[1]&&(i=E(e,t),console.log(i)),i&&(document.getElementById("path").innerHTML="Path: ",w(i),c=d,document.getElementById("path").style.display="flex")})},w=d=>{let e=0;function t(){const a=d[e],g=document.querySelector(".knight");g.parentNode;const h=document.getElementById(`${a[0].toString()},${a[1].toString()}`);document.getElementById("path").innerText+=`
[${a[0]}, ${a[1]}]`,h.classList.add("highlighted"),h.querySelector(".pawn")&&(h.classList.add("captured"),h.querySelector(".pawn").parentNode.removeChild(h.querySelector(".pawn")),s.innerText="We captured a pawn!"),h.classList.contains("white")?g.innerHTML=`<img src="${y}">`:g.innerHTML=`<img src="${b}">`,h.appendChild(g),e++,e<d.length&&setTimeout(t,1e3)}t()};m()};I();
