(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();function L(d,r){if(d[0]===r[0]&&d[1]===r[1])return[d];const c=[[-2,-1],[-1,-2],[1,-2],[2,-1],[2,1],[1,2],[-1,2],[-2,1]],u=[[d]],n=new Set([d.toString()]);for(;u.length>0;){const o=u.shift(),l=o[o.length-1];if(l[0]===r[0]&&l[1]===r[1])return o;for(const p of c){const h=[l[0]+p[0],l[1]+p[1]];if(h[0]>=0&&h[0]<=7&&h[1]>=0&&h[1]<=7&&!n.has(h.toString())){const f=[...o,h];u.push(f),n.add(h.toString())}}}return null}const k=""+new URL("WhitePawn-a1c2fe46.svg",import.meta.url).href,I=""+new URL("BlackPawn-3ae42283.svg",import.meta.url).href,y=""+new URL("WhiteKnight-097d6771.svg",import.meta.url).href,b=""+new URL("BlackKnight-8fcab879.svg",import.meta.url).href;const v=()=>{let d,r=[],c=document.getElementById("status");const u=()=>{const s=document.getElementById("chessboard");for(let i=0;i<8;i++)for(let e=0;e<8;e++){const t=document.createElement("div");t.classList.add("square"),t.id=`${7-i},${e}`,(i+e)%2===0?t.classList.add("white"):t.classList.add("black"),s.appendChild(t)}document.getElementById("knight-btn").disabled=!0,document.getElementById("hunt-btn").disabled=!0,document.getElementById("pawn-btn").addEventListener("click",()=>{n(),c.innerHTML="Click anywhere to add a pawn.",document.getElementById("pawn-btn").disabled=!0}),document.getElementById("clear-btn").addEventListener("click",l),document.getElementById("knight-btn").addEventListener("click",()=>{o(),c.innerHTML="Click on a square to add a knight."}),document.getElementById("hunt-btn").addEventListener("click",()=>{c.innerHTML="Time for the hunt!",w()}),c.innerHTML="Click the 'Pawn' button to add a pawn."},n=()=>{document.getElementById("chessboard").addEventListener("click",function(i){const e=i.target;if(!e.querySelector(".pawn")&&!p()&&e.tagName!=="IMG"){const t=document.createElement("div");t.classList.add("pawn"),e.appendChild(t),e.classList.contains("white")?t.innerHTML=`<img src="${k}">`:t.innerHTML=`<img src="${I}">`,r.push(e.id),document.getElementById("knight-btn").disabled=!1,document.getElementById("pawn-btn").disabled=!0,c.innerText=`Click on the pawn to remove it, if you want to.
If not, click the 'Knight' button to add a knight.`,t.addEventListener("click",function(){t.parentNode.removeChild(t),c.innerHTML="Click anywhere to add a pawn.",r.forEach((a,g)=>{a===e.id&&r.splice(g,1)}),r.length===0&&(document.getElementById("knight-btn").disabled=!0)})}})},o=()=>{f(),document.getElementById("chessboard").addEventListener("click",function(i){const e=i.target;if(!e.querySelector(".pawn")&&!e.querySelector(".knight")&&e.tagName!=="IMG"&&p()&&h()===!1){const t=document.createElement("div");t.classList.add("knight"),e.appendChild(t),e.classList.contains("white")?t.innerHTML=`<img src="${y}">`:t.innerHTML=`<img src="${b}">`,d=e.id,document.getElementById("knight-btn").disabled=!0,document.getElementById("hunt-btn").disabled=!1,c.innerText=`Click on the knight to remove it, if you want to.
If not, click the 'Hunt' button to start the hunt.`,t.addEventListener("click",function(){t.parentNode.removeChild(t),d=null,c.innerHTML="Click on any square to add a knight.",document.getElementById("knight-btn").disabled=!1,document.getElementById("hunt-btn").disabled=!0})}})},l=()=>{document.getElementById("chessboard").innerHTML="",f(),u(),r=[],d=null,document.getElementById("pawn-btn").disabled=!1,document.getElementById("path").style.display="none"},p=()=>document.querySelectorAll(".pawn").length>0,h=()=>document.querySelectorAll(".knight").length>0,f=()=>{const s=document.getElementById("chessboard"),i=s.querySelectorAll(".square"),e=document.createElement("div");e.id="chessboard",i.forEach(t=>{const a=t.cloneNode(!0);e.appendChild(a)}),s.parentNode.replaceChild(e,s)},w=()=>{document.getElementById("hunt-btn").disabled=!0,r.forEach(s=>{let i=[],e=d.split(","),t=s.split(",");e=e.map(a=>parseInt(a)),t=t.map(a=>parseInt(a)),console.log(e,t),e[0]!==t[0]&&e[1]!==t[1]&&(i=L(e,t),console.log(i)),i&&(document.getElementById("path").innerHTML="Path: ",E(i),d=s,document.getElementById("path").style.display="flex")})},E=s=>{let e=0;function t(){const a=s[e],g=document.querySelector(".knight");g.parentNode;const m=document.getElementById(`${a[0].toString()},${a[1].toString()}`);document.getElementById("path").innerText+=`
[${a[0]}, ${a[1]}]`,m.classList.add("highlighted"),m.querySelector(".pawn")&&(m.classList.add("captured"),m.querySelector(".pawn").parentNode.removeChild(m.querySelector(".pawn")),c.innerText="We captured a pawn!"),m.classList.contains("white")?g.innerHTML=`<img src="${y}">`:g.innerHTML=`<img src="${b}">`,m.appendChild(g),e++,e<s.length&&setTimeout(t,1e3)}t()};u()};v();
